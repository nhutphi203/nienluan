{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\nienluan_khac\\\\client\\\\src\\\\ProtectedRoute.jsx\";\nimport { Navigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n// Hàm bảo vệ các route yêu cầu quyền\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  roles\n}) => {\n  var _JSON$parse;\n  const userRole = (_JSON$parse = JSON.parse(localStorage.getItem('user'))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.role;\n\n  // Nếu không có người dùng hoặc người dùng chưa đăng nhập\n  if (!userRole) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Kiểm tra nếu người dùng không có quyền truy cập\n  if (!roles.includes(userRole)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp v\\xE0o trang n\\xE0y.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 16\n    }, this);\n  }\n  return children;\n};\n_c = ProtectedRoute;\nProtectedRoute.propTypes = {\n  children: PropTypes.node.isRequired,\n  roles: PropTypes.arrayOf(PropTypes.string).isRequired\n};\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["Navigate","PropTypes","jsxDEV","_jsxDEV","ProtectedRoute","children","roles","_JSON$parse","userRole","JSON","parse","localStorage","getItem","role","to","fileName","_jsxFileName","lineNumber","columnNumber","includes","_c","propTypes","node","isRequired","arrayOf","string","$RefreshReg$"],"sources":["C:/Users/LENOVO/nienluan_khac/client/src/ProtectedRoute.jsx"],"sourcesContent":["import { Navigate } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Hàm bảo vệ các route yêu cầu quyền\r\nconst ProtectedRoute = ({ children, roles }) => {\r\n    const userRole = JSON.parse(localStorage.getItem('user'))?.role;\r\n\r\n    // Nếu không có người dùng hoặc người dùng chưa đăng nhập\r\n    if (!userRole) {\r\n        return <Navigate to=\"/login\" />;\r\n    }\r\n\r\n    // Kiểm tra nếu người dùng không có quyền truy cập\r\n    if (!roles.includes(userRole)) {\r\n        return <div>Bạn không có quyền truy cập vào trang này.</div>;\r\n    }\r\n\r\n    return children;\r\n};\r\n\r\nProtectedRoute.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    roles: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,SAAS,MAAM,YAAY;;AAElC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAM,CAAC,KAAK;EAAA,IAAAC,WAAA;EAC5C,MAAMC,QAAQ,IAAAD,WAAA,GAAGE,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,cAAAL,WAAA,uBAAxCA,WAAA,CAA0CM,IAAI;;EAE/D;EACA,IAAI,CAACL,QAAQ,EAAE;IACX,oBAAOL,OAAA,CAACH,QAAQ;MAACc,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACnC;;EAEA;EACA,IAAI,CAACZ,KAAK,CAACa,QAAQ,CAACX,QAAQ,CAAC,EAAE;IAC3B,oBAAOL,OAAA;MAAAE,QAAA,EAAK;IAA0C;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAChE;EAEA,OAAOb,QAAQ;AACnB,CAAC;AAACe,EAAA,GAdIhB,cAAc;AAgBpBA,cAAc,CAACiB,SAAS,GAAG;EACvBhB,QAAQ,EAAEJ,SAAS,CAACqB,IAAI,CAACC,UAAU;EACnCjB,KAAK,EAAEL,SAAS,CAACuB,OAAO,CAACvB,SAAS,CAACwB,MAAM,CAAC,CAACF;AAC/C,CAAC;AAED,eAAenB,cAAc;AAAC,IAAAgB,EAAA;AAAAM,YAAA,CAAAN,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}